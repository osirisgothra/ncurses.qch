Content-type: text/html; charset=UTF-8

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of scr_dump</TITLE>
</HEAD><BODY>
<H1>scr_dump</H1>
Section: Misc. Reference Manual Pages (3NCURSES)<BR>Updated: <BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>



<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

<B>scr_dump</B>,
<B>scr_restore</B>,
<B>scr_init</B>,
<B>scr_set</B> - read (write) a <B>curses</B> screen from (to) a file


<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>#include &lt;<A HREF="file:///usr/include/curses.h">curses.h</A>&gt;</B>
<P>
<B>int scr_dump(const char *filename);</B>
<BR>

<B>int scr_restore(const char *filename);</B>
<BR>

<B>int scr_init(const char *filename);</B>
<BR>

<B>int scr_set(const char *filename);</B>
<BR>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

The <B>scr_dump</B> routine dumps the current contents of the virtual screen
to the file <I>filename</I>.
<P>

The <B>scr_restore</B> routine sets the virtual screen to the contents
of <I>filename</I>, which must have been written using <B>scr_dump</B>.  The next
call to <B>doupdate</B> restores the screen to the way it looked in the dump
file.
<P>

The <B>scr_init</B> routine reads in the contents of <I>filename</I> and uses
them to initialize the <B>curses</B> data structures about what the terminal
currently has on its screen.  If the data is determined to be valid,
<B>curses</B> bases its next update of the screen on this information rather
than clearing the screen and starting from scratch.  <B>scr_init</B> is used
after <B>initscr</B> or a <B>system</B> call to share
the screen with another process which has done a <B>scr_dump</B> after its
<B>endwin</B> call.  The data is declared invalid if the terminfo capabilities
<B>rmcup</B> and <B>nrrmc</B> exist; also if the terminal has been written to
since the preceding <B>scr_dump</B> call.
<P>

The <B>scr_set</B> routine is a combination of <B>scr_restore</B> and
<B>scr_init</B>.  It tells the program that the information in <I>filename</I> is
what is currently on the screen, and also what the program wants on the screen.
This can be thought of as a screen inheritance function.
<P>

To read (write) a window from (to) a file, use the <B>getwin</B> and
<B>putwin</B> routines [see <B>util</B>(3NCURSES)].
<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUE</H2>

All routines return the integer <B>ERR</B> upon failure and <B>OK</B>
upon success.
<P>

X/Open defines no error conditions.
In this implementation,
each will return an error if the file cannot be opened.
<A NAME="lbAF">&nbsp;</A>
<H2>NOTES</H2>

Note that <B>scr_init</B>, <B>scr_set</B>, and <B>scr_restore</B> may be macros.
<A NAME="lbAG">&nbsp;</A>
<H2>PORTABILITY</H2>

The XSI Curses standard, Issue 4, describes these functions (adding the const
qualifiers).
<P>

The SVr4 docs merely say under <B>scr_init</B> that the dump data is also
considered invalid &quot;if the time-stamp of the tty is old&quot; but do not define
&quot;old&quot;.
<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<B>ncurses</B>(3NCURSES), <B>initscr</B>(3NCURSES), <B>refresh</B>(3NCURSES),
<B>util</B>(3NCURSES), <B><A HREF="/cgi-bin/man/man2html?3+system">system</A></B>(3)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">RETURN VALUE</A><DD>
<DT><A HREF="#lbAF">NOTES</A><DD>
<DT><A HREF="#lbAG">PORTABILITY</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 20:42:57 GMT, April 08, 2015
</BODY>
</HTML>
